---
title: Yarn이란?
description: Yarn에 대한 설명
tags:
  - yarn
date: 2024-10-06 23:11:00
---

# 1. Yarn이란?

- javascript의 package manager
- npm에 비해 패키지 설치 속도가 더 빠르며, 패키지 설치 과정에서 패키지가 code를 running 하지 않도록 하여 보안상 더욱 안전함
- 같은 `package.json`에 의존하는 두 개의 서로 다른 환경이 서로 다른 버전의 패키지 의존성을 가지는 것을 방지하기 위해 버전의 range가 아닌 정확한 버전을 명시한 `yarn.lock` 파일을 사용

# 2. Yarn vs Npm

- yarn과 npm은 패키지를 설치해야 할 때마다 일련의 작업을 수행함
  - npm은 패키지별로 순차적으로 실행 (패키지가 완전히 설치될 때까지 기다렸다가 다음으로 넘어감)
  - yarn은 이러한 작업을 병렬로 실행 ⇒ 성능 향상
- yarn은 제로 설치 패러다임을 제공
- yarn과 npm의 최신 버전 속도는 거의 비슷함

# 3. Yarn 사용

```bash
# npm install
yarn install 또는 yarn

# npm i <package> --save
yarn add <package>

# npm i <package> --save-dev
yarn add <package> --dev : --dev 옵션은 -D 와 같다.

# 패키지 삭제
yarn remove <package>

# dependencies와 devDependencies 모두 (package.json 에 명시된) version rule 에 따라 최신 버전으로 업그레이드.
# 만약 어떤 패키지가 semantic versioning([segVer](https://github.com/semver/semver/blob/master/semver.md))를
# 따르지 않는다면, version rule이 무색해져 하위 호환성이 보장되지 않는 업그레이드일 수도 있다.
yarn upgrade

# 특정 패키지를 특정 버전으로 업그레이드
yarn upgrade <package>@<version>

# 목록들 중에서 원하는 패키지만 최신버전으로 업그레이드하는 interactive terminal ui 를 제공한다.
yarn upgrade-interactive

# production 환경서 필요한 dependencies 만 설치
NODE_ENV=production yarn install 또는 yarn install --production
```

### 3-1) 기타 명령어

```bash
# npm i <package> -g
yarn global add <package>

# npm init
yarn init

# CI 서버와 같이 재생 가능한 의존 패키지가 필요한 경우 --fronzen-lockfile 플래그는 유용합니다.
# yarn.lock과 package.json이 동기화 되지 않은 상태에서 업데이트가 필요한 경우에는 설치를 실패하고 yarn.lock을 생성하지 않습니다.
# [출처](http://www.holaxprogramming.com/2017/12/21/node-yarn-tutorials/)
yarn install --frozen-lockfile
```

### 3-2) 특정 버전 패키지 설치

- `package.json`에서
  - `~` (tilt) : 최하위 버전의 업데이트만 허용
  - `^` (carot) : 최상위 버전의 업데이트까지 자유롭게 허용

```bash
# 특정 패키지를 특정 버전으로 설치
# yarn add weppack@4.0.0
yarn add <package>@<version>
```
